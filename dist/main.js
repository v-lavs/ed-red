let BREAKPOINTS={mobile:767,tablet:991},isMobile=()=>window.innerWidth<=BREAKPOINTS.mobile;function destroySwiper(e){e&&e instanceof Swiper&&e.initialized&&e.destroy(!0,!0)}function lockScroll(){document.body.style.overflow="hidden"}function unlockScroll(){document.body.style.overflow=""}function debounce(t,i){let n;return(...e)=>{clearTimeout(n),n=setTimeout(()=>t.apply(null,e),i)}}function initAllergenCategory(e=$(document)){e.find(".category").each(function(){var e=$(this),t=e.find(".allergen-list"),i=e.find(".allergen-toggle-btn");if(t.length&&i.length){var n=t.children(".allergen-item");isMobile()?n.length<=6?i.hide():(i.show(),t.addClass("is-collapsed"),e.removeClass("open"),n.each((e,t)=>{6<=e&&$(t).hide()})):(n.show(),i.hide(),t.removeClass("is-collapsed"),e.removeClass("open"))}})}function initVisibleTabAllergens(){var e=$(".tab-pane.active:visible");e.length&&initAllergenCategory(e)}function initMobileMenu(){let t=$(".header__nav"),i=$(".backdrop");$(".btn_burger").on("click",e=>{e.preventDefault(),t.addClass("open"),i.fadeIn(),lockScroll()}),$(".btn_close, .backdrop").on("click",e=>{e.preventDefault(),t.removeClass("open"),i.fadeOut(),unlockScroll()}),$(".menu").on("click",".menu__toggler",function(e){e.preventDefault(),$(this).parent().toggleClass("is-open")})}function initHeaderSearch(){let t=$(".header__search"),i=$(".search-form");$("#openSearch").on("click",e=>{e.preventDefault(),t.addClass("active")}),$("#closeSearch").on("click",e=>{e.preventDefault(),t.removeClass("active"),i.removeClass("active"),i.find(".form-control").val("")}),i.on("submit",function(e){e.preventDefault(),console.log("Form submitted:",$(this).serialize())})}function initSmoothScroll(e){let i=$("header");$(document).on("click",e,function(e){var t=$(this).attr("href");t&&t.startsWith("#")&&(t=document.querySelector(t))&&(e.preventDefault(),$("html, body").animate({scrollTop:$(t).offset().top-i.innerHeight()},800),$(".header__nav").removeClass("open"),$(".backdrop").fadeOut())}),location.hash&&(e=document.querySelector(location.hash))&&$("html, body").animate({scrollTop:$(e).offset().top-i.innerHeight()},800)}function initVideo(){let e=document.getElementById("promotion-video"),t=$("#playButton");e&&t.length&&(t.on("click",()=>e.play()),e.addEventListener("play",()=>{t.hide(),e.controls=!0}),e.addEventListener("pause",()=>{t.show(),e.controls=!1}))}function initResponsiveCounterSlider(){let e=null;function t(){isMobile()?!e&&$(".swiper.counter").length&&(e=new Swiper(".swiper.counter",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})):(destroySwiper(e),e=null)}t(),window.addEventListener("resize",debounce(t,300))}function initStaticSliders(){if($(".slider-products").length){let e=new Swiper(".slider-products",{spaceBetween:24,slidesPerView:1,breakpoints:{650:{slidesPerView:2},1025:{slidesPerView:3}},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".wrap-slider-products .swiper-button-next",prevEl:".wrap-slider-products .swiper-button-prev"},watchOverflow:!0});e.on("init resize",()=>{let t=!e.isLocked;e.el.querySelectorAll(".swiper-button-next, .swiper-button-prev").forEach(e=>e.style.display=t?"":"none")})}$(".slider-info").length&&new Swiper(".slider-info",{loop:!0,spaceBetween:24,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-nav .swiper-button-next",prevEl:".swiper-nav .swiper-button-prev"}}),$(".blog-slider").length&&new Swiper(".blog-slider",{spaceBetween:24,breakpoints:{650:{slidesPerView:2},1025:{slidesPerView:3}},pagination:{el:".swiper-pagination"},navigation:{nextEl:".wrap-slider-posts .swiper-button-next",prevEl:".wrap-slider-posts .swiper-button-prev"}})}$(document).on("click",".allergen-toggle-btn",function(){var e=$(this),t=e.closest(".category"),i=t.find(".allergen-list"),n=i.children(".allergen-item"),e=e.find(".btn-text");i.hasClass("is-collapsed")?(i.removeClass("is-collapsed"),n.slideDown(200),t.addClass("open"),e.text("Закрити")):(i.addClass("is-collapsed"),n.slice(6).slideUp(200),t.removeClass("open"),e.text("Дивитись більше"))});let tabsSlider=null;function initTabsSlider(){var e=0<$(".slider-posts").length;tabsSlider=e?tabsSlider||new Swiper(".slider-posts",{spaceBetween:20,pagination:{el:".swiper-pagination"},navigation:{nextEl:".wrap-slider-posts .swiper-button-next",prevEl:".wrap-slider-posts .swiper-button-prev"},breakpoints:{650:{slidesPerView:2},1025:{slidesPerView:3}}}):(Array.isArray(tabsSlider)?tabsSlider.forEach(e=>destroySwiper(e)):destroySwiper(tabsSlider),null)}function initTabs(){$(".tabs").each(function(){let e=$(this),l=e.find(".tabs__nav-link"),o=e.find(".tabs__content-wrapper"),r=e.find(".tab-pane");l.on("click",function(t){t.preventDefault();t=$(this);if(!t.hasClass("active")){var i=t.attr("href"),i=e.find(i);l.removeClass("active"),t.addClass("active");{t=i;var n=o.height();t.show();let e=t.outerHeight();t.hide(),o.height(n),requestAnimationFrame(()=>{o.height(e),setTimeout(()=>o.css("height","auto"),300)})}r.removeClass("active").hide(),i.addClass("active").show(),initTabsSlider(),tabsSlider&&(Array.isArray(tabsSlider)?tabsSlider.forEach(e=>e.update()):tabsSlider.update()),setTimeout(initVisibleTabAllergens,20)}});var t=r.filter(".active");o.height(t.outerHeight()),setTimeout(()=>o.css("height","auto"),300)})}function initFloweringCalendar(){let n=$(".month-wrap");if(n.length){let e=(new Date).getMonth();function t(){if(console.log(11),window.innerWidth>BREAKPOINTS.tablet){if(!n.hasClass("mCustomScrollbar")){n.mCustomScrollbar({axis:"x",theme:"my-theme"});var t=n.find(".month-block"),i=$("#month-"+e);if(console.log(111),i.length){let e=100/12*(t.index(i)+1)+"%";setTimeout(()=>{n.mCustomScrollbar("scrollTo",e)},1e3)}}}else n.hasClass("mCustomScrollbar")&&n.mCustomScrollbar("destroy")}t(),window.addEventListener("resize",debounce(t,300))}}function initAccordion(){$("#accordion").on("click",".panel__heading",function(){var e=$(this),t=e.siblings(".panel-collapse");e.hasClass("open")?(e.removeClass("open"),t.slideUp(300)):($("#accordion .panel__heading").removeClass("open"),$(".panel-collapse").slideUp(300),e.addClass("open"),t.slideDown(300))})}function initCounters(){var e=document.querySelectorAll(".counter__number");if(e.length){let t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let i=e.target,n=+i.dataset.target,l=i.dataset.prefix||"",o=i.dataset.suffix||"",r=performance.now();requestAnimationFrame(function e(t){t=Math.min((t-r)/2e3,1);i.textContent=l+Math.floor(t*n)+o,t<1&&requestAnimationFrame(e)}),t.unobserve(i)}})},{threshold:.5});e.forEach(e=>t.observe(e))}}function initModal(){let i=document.getElementById("modal-calendar");var e=document.getElementById("closeDialog");$(".more-plants").on("click",function(e){e.preventDefault();$(this).closest(".month-block").attr("id");i.showModal(),lockScroll()}),i&&e&&(e.addEventListener("click",()=>{i.close(),unlockScroll()}),$(i).on("click",function(e){var t=i.getBoundingClientRect();e.clientX>=t.left&&e.clientX<=t.right&&e.clientY>=t.top&&e.clientY<=t.bottom||(i.close(),unlockScroll())}))}$(document).ready(function(){initMobileMenu(),initHeaderSearch(),initSmoothScroll(".article__nav a, .menu__link, .scroll-to"),initVideo(),initResponsiveCounterSlider(),initStaticSliders(),initTabsSlider(),initTabs(),initAccordion(),initCounters(),initFloweringCalendar(),initModal(),initVisibleTabAllergens(),$(".filter__select").select2({width:"100%",minimumResultsForSearch:-1})}),$(window).on("resize",debounce(initVisibleTabAllergens,200));