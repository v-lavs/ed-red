{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["/*\r\n* to include js file write: `//= include ./path-to-file`\r\n* */\r\n\r\n// CUSTOM SCRIPTS\r\n\r\nfunction destroySwiper(sliderInstance) {\r\n    if (sliderInstance instanceof Swiper && sliderInstance.initialized) {\r\n        sliderInstance.destroy(true, true);\r\n        console.log('destroy')\r\n    }\r\n}\r\n\r\n$(document).ready(function () {\r\n    //MOBILE MENU\r\n    const nav = $('.header__nav');\r\n\r\n    $('.btn-burger').click(function (e) {\r\n        e.preventDefault();\r\n        nav.addClass('open');\r\n        jQuery('.backdrop').fadeIn();\r\n    });\r\n\r\n    $('.btn-close, .backdrop').click(function (e) {\r\n        e.preventDefault();\r\n        nav.removeClass('open');\r\n        jQuery('.backdrop').fadeOut();\r\n    });\r\n\r\n// SMOOTH SCROLL TO ANCHOR\r\n    function smoothScrollToAnchor(selector) {\r\n        $(selector).on('click', function (event) {\r\n            let anchor = $.attr(this, 'href');\r\n            let offsetSize = $('header').innerHeight();\r\n\r\n            if (anchor.match(/^#/) && anchor !== '#') {\r\n                event.preventDefault()\r\n                $('html, body').animate({\r\n                    scrollTop: $($.attr(this, 'href')).offset().top - offsetSize\r\n                }, 2000);\r\n                nav.removeClass('open');\r\n                jQuery('.backdrop').fadeOut();\r\n                $('body').removeClass('modal_open');\r\n            }\r\n        })\r\n        let myHash = location.hash;\r\n        location.hash = '';\r\n        let offsetSize = $('header').innerHeight();\r\n        if (myHash[1] != undefined) {\r\n            $('html, body').animate({scrollTop: $(myHash).offset().top - offsetSize}, 1500);\r\n        }\r\n\r\n    }\r\n\r\n    smoothScrollToAnchor('.article__nav .nav-list__item a');\r\n    smoothScrollToAnchor('.menu__link');\r\n    smoothScrollToAnchor('.single-product .scroll-to');\r\n\r\n    // VIDEO PLAY\r\n\r\n    const promotionVideo = $('#promotion-video').get(0);\r\n\r\n    if (promotionVideo) {\r\n        const playBtn = $('#playButton');\r\n\r\n        playBtn.click(function () {\r\n            promotionVideo.play();\r\n        });\r\n\r\n        promotionVideo.addEventListener('play', function () {\r\n            playBtn.hide();\r\n            promotionVideo.controls = true\r\n        });\r\n\r\n        promotionVideo.addEventListener('pause', function () {\r\n            playBtn.show();\r\n            promotionVideo.controls = false\r\n        });\r\n    }\r\n\r\n    //MODAL\r\n\r\n//SLIDER\r\n    let sliderCounter;\r\n    const counterSelector = $('.swiper.counter').get(0);\r\n\r\n    function handleResponsive() {\r\n\r\n// DESTROY SLIDER INSTANCES RESPONSIVE\r\n\r\n        if ($(window).outerWidth() <= 767) {\r\n            if (!sliderCounter && counterSelector) {\r\n                sliderCounter = new Swiper('.swiper.counter', {\r\n                    pagination: {\r\n                        el: '.swiper-pagination',\r\n                        clickable: true,\r\n                    },\r\n                });\r\n            }\r\n        } else {\r\n            destroySwiper(sliderCounter);\r\n            sliderCounter = null;\r\n        }\r\n    }\r\n\r\n\r\n    let resizeId;\r\n\r\n    handleResponsive();\r\n\r\n    window.addEventListener('resize', function () {\r\n        clearTimeout(resizeId);\r\n        resizeId = setTimeout(handleResponsive, 500);\r\n    });\r\n\r\n//CORE-SLIDER\r\n    if($('.products').get(0)){\r\n        const  sliderProduct = new Swiper('.slider-products', {\r\n            spaceBetween: 24,\r\n            slidesPerView: 1,\r\n            breakpoints: {\r\n                650: {\r\n                    slidesPerView: 2,\r\n                },\r\n                1025: {\r\n                    slidesPerView: 3,\r\n                }\r\n            },\r\n            pagination: {\r\n                el: '.swiper-pagination',\r\n                clickable: true,\r\n            },\r\n            navigation: {\r\n                nextEl: '.wrap-slider-posts  .swiper-button-next',\r\n                prevEl: '.wrap-slider-posts  .swiper-button-prev',\r\n            },\r\n            watchOverflow: true,\r\n        });\r\n        sliderProduct.on('init resize', () => {\r\n            toggleNav(sliderProduct);\r\n        });\r\n\r\n        function toggleNav(sliderProduct) {\r\n            const next = document.querySelector('.swiper-button-next');\r\n            const prev = document.querySelector('.swiper-button-prev');\r\n\r\n            const show = !sliderProduct.isLocked; // isLocked = true якщо слайдів недостатньо\r\n\r\n            next.style.display = show ? '' : 'none';\r\n            prev.style.display = show ? '' : 'none';\r\n        }\r\n    }\r\n    if ($('.slider-info').get(0)) {\r\n        const sliderInfo = new Swiper('.slider-info', {\r\n            loop: true,\r\n            spaceBetween: 24,\r\n            pagination: {\r\n                el: '.swiper-pagination',\r\n            },\r\n            navigation: {\r\n                nextEl: '.swiper-nav  .swiper-button-next',\r\n                prevEl: '.swiper-nav  .swiper-button-prev',\r\n            },\r\n        });\r\n    }\r\n\r\n    if ($('.blog-slider').get(0)) {\r\n        const sliderBlog = new Swiper('.blog-slider', {\r\n            spaceBetween: 24,\r\n            pagination: {\r\n                el: '.swiper-pagination',\r\n            },\r\n            navigation: {\r\n                nextEl: '.wrap-slider-posts .swiper-button-next',\r\n                prevEl: '.wrap-slider-posts .swiper-button-prev',\r\n            },\r\n            breakpoints: {\r\n                650: {\r\n                    slidesPerView: 2,\r\n                },\r\n                1025: {\r\n                    slidesPerView: 3,\r\n                }\r\n            }\r\n        });\r\n    }\r\n//SLIDER-IN-TABS\r\n    let tabsSlider;\r\n\r\n    function slidersInit() {\r\n        if ($('.slider-posts').length > 0) {\r\n\r\n            if (!tabsSlider) {\r\n                tabsSlider = new Swiper('.slider-posts', {\r\n                    spaceBetween: 20,\r\n                    pagination: {\r\n                        el: '.swiper-pagination',\r\n                    },\r\n                    navigation: {\r\n                        nextEl: '.wrap-slider-posts  .swiper-button-next',\r\n                        prevEl: '.wrap-slider-posts  .swiper-button-prev',\r\n                    },\r\n                    breakpoints: {\r\n                        650: {\r\n                            slidesPerView: 2,\r\n                        },\r\n                        1025: {\r\n                            slidesPerView: 3,\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            if (tabsSlider) {\r\n                if ($.isArray(tabsSlider)) {\r\n                    tabsSlider.forEach(function (slider) {\r\n                        slider.destroy(true, true)\r\n                    });\r\n                } else {\r\n                    tabsSlider.destroy(true, true);\r\n                }\r\n                tabsSlider = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    slidersInit();\r\n\r\n\r\n    // TABS\r\n\r\n    $(\".tabs\").each(function () {\r\n        const tabs = $(this);\r\n        const links = tabs.find('.tabs__nav-link');\r\n        const wrapper = tabs.find('.tabs__content-wrapper');\r\n        const panes = tabs.find('.tab-pane');\r\n\r\n        function animateHeight(newPanel) {\r\n            const start = wrapper.height();\r\n            newPanel.show();\r\n            const target = newPanel.outerHeight();\r\n            newPanel.hide();\r\n\r\n            wrapper.height(start);\r\n            setTimeout(() => wrapper.height(target), 10);\r\n            setTimeout(() => wrapper.css('height', 'auto'), 310);\r\n        }\r\n\r\n        links.on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            if ($(this).hasClass('active')) return;\r\n\r\n            const id = $(this).attr('href');\r\n            const pane = tabs.find(id);\r\n            const current = panes.filter('.active');\r\n\r\n            links.removeClass('active');\r\n            $(this).addClass('active');\r\n\r\n            animateHeight(pane);\r\n\r\n            current.removeClass('active').hide();\r\n            pane.addClass('active').show();\r\n\r\n            slidersInit();\r\n\r\n            if (tabsSlider) {\r\n                if ($.isArray(tabsSlider)) {\r\n                    tabsSlider.forEach(function (slider) {\r\n                        slider.update();\r\n                    });\r\n                } else {\r\n                    tabsSlider.update();\r\n                }\r\n            }\r\n        });\r\n\r\n        const first = panes.filter('.active');\r\n        wrapper.css('height', first.outerHeight());\r\n        setTimeout(() => wrapper.css('height', 'auto'), 300);\r\n    });\r\n\r\n    //ACCORDION\r\n    $('#accordion .panel__heading').on('click', function () {\r\n        if ($(this).hasClass('open')) {\r\n            $(this).removeClass('open');\r\n            $(this)\r\n                .siblings('.panel-collapse')\r\n                .slideUp(500);\r\n            $('#accordion .panel__heading .open-panel')\r\n                .removeClass('open-panel:before')\r\n                .addClass('open-panel')\r\n        } else {\r\n            $('#accordion .panel__heading .open-panel')\r\n                .removeClass('open-panel:before')\r\n                .addClass('open-panel');\r\n            $(this)\r\n                .find('open-panel')\r\n                .removeClass('open-panel')\r\n                .addClass('open-panel:before');\r\n            $('#accordion .panel__heading').removeClass('open');\r\n            $(this).addClass('open');\r\n            $('.panel-collapse').slideUp(500);\r\n            $(this)\r\n                .siblings('.panel-collapse')\r\n                .slideDown(500)\r\n        }\r\n    });\r\n\r\n//    CUSTOM SELECT\r\n    $('.filter__select').select2({\r\n        width: '100%',\r\n        minimumResultsForSearch: -1,\r\n    });\r\n\r\n//    SEARCH BAR\r\n    const searchBar = $('.header__search');\r\n\r\n    $('#openSearch').click(function (e) {\r\n        e.preventDefault();\r\n        searchBar.addClass('active');\r\n    });\r\n\r\n    $('#closeSearch').click(function (e) {\r\n        e.preventDefault();\r\n        searchBar.removeClass('active');\r\n        $('.search-form .form-control').val('');\r\n        $('.search-form').removeClass('active');\r\n    });\r\n    $('.search-form').on('submit', function() {\r\n        console.log('Form submitted:', $(this).serialize());\r\n    });\r\n// FLOWERING CALENDAR\r\n\r\n\r\n});\r\n\r\n"],"file":"main.js"}